# API 与代理规范

## 1. API 设计
### 接口定义
#### 示例接口：获取主题内容
- **URL**：`/api/content`
- **方法**：`GET`
- **参数**：
  - `theme`（必填）：主题名称。
  - `date`（可选）：日期，格式为 `YYYY-MM-DD`。
- **返回值**：
  ```json
  {
    "status": "success",
    "data": [
      {
        "id": 1,
        "text": "经典台词",
        "image_url": "https://example.com/image.jpg",
        "source": "TMDb"
      }
    ]
  }
  ```
- **错误码**：
  - `400`：参数错误。
  - `404`：未找到内容。
  - `500`：服务器错误。

### 其他接口
- **获取主题列表**：`/api/themes`（`GET`）。
- **提交用户反馈**：`/api/feedback`（`POST`）。

## 2. 代理服务策略
### 功能
- **密钥管理**：
  - 服务端持有第三方 API 密钥，前端无密钥。
  - 密钥定期轮换，确保安全性。

- **限流**：
  - 基于 IP 和用户会话的限流策略。
  - 每分钟最大请求数：100。

- **缓存**：
  - 文本内容缓存 24 小时。
  - 图片内容通过 CDN 长期缓存。

### 隐私与安全
- **隐私保护**：
  - 不记录用户输入内容的明文。
  - 仅存储请求元数据（如时间戳、IP）。

- **安全措施**：
  - 使用 HTTPS 加密通信。
  - 设置防火墙，防止恶意请求。

---

请根据实际需求补充和调整 API 与代理规范。