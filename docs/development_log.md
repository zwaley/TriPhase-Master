# 开发日志

## 1. 开发背景
本项目旨在开发一款图文日签生成工具，支持用户通过 Web 和 Android 平台生成个性化的日签卡片。项目的主要目标包括：
- 提供自动生成内容的功能，支持从内置数据库或在线资源中获取图片和文字。
- 增加 Android 应用支持，方便用户在移动端使用。
- 丰富主题和样式选择，提供多种个性化模板。

## 2. 重要决策
- **API 策略**：采用开发者统一密钥+代理服务，避免用户申请 API 密钥的复杂性。
- **数据库实现**：采用自动/人工混合模式，确保数据质量的同时提升效率。
- **Android 技术路径**：第一阶段使用 WebView/TWA 快速交付，第二阶段使用 React Native 进行原生优化。
- **内容选择算法**：基于日期、主题、用户偏好等因素，结合相关性、质量、新鲜度等评分机制。

## 3. 问题与解决方案
### 问题 1：如何避免用户申请 API 密钥的复杂性？
**解决方案**：通过代理服务器统一管理 API 调用，服务端持有密钥，并对请求进行限流和缓存。

### 问题 2：如何确保自动生成内容的质量？
**解决方案**：设计自动/人工混合库流程，包括采集、清洗、标注、审核、发布等环节，确保内容的准确性和多样性。

### 问题 3：如何支持离线模式？
**解决方案**：通过内置数据库和前端缓存（IndexedDB/CacheStorage），实现离线内容的预生成和存储。

## 4. 经验总结
- **编码规范**：遵循统一的编码规范和代码审查流程，有助于提升代码质量。
- **文档管理**：及时更新 PRD 和开发日志，确保团队成员对项目进展的清晰了解。
- **测试覆盖率**：设定明确的测试覆盖率目标（语句 80%、函数 70%、分支 60%），有效降低上线风险。

## 5. 变更记录
- **2025-11-19**：更新 `TODO.md` 文件，添加科学分解的开发步骤和 Git 提交与备份计划。
- **2025-11-19**：检查 `PRD.md` 文件，确认内容完整无误，无需进一步修改。
- **2025-11-19**：合并 `完善 PRD 并推进后续开发.md` 的内容到 `PRD.md`，补充模板与主题规范、离线与缓存策略等。
- **2025-11-19**：创建 `TODO.md` 文件，整理开发任务清单。

---

请在开发过程中及时更新本日志，记录新的决策、问题解决方案和经验总结。